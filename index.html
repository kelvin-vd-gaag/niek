<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Niek Hendrix</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Limelight&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/main.css">
</head>
<body>

<nav>
    <div class="nav-left"><a href="#">Niek Hendrix</a></div>
    <button class="hamburger" id="hamburger-button" aria-label="Menu">
        <span class="bar"></span><span class="bar"></span><span class="bar"></span>
    </button>
    <ul id="nav-menu">
        <li><a href="#">Cabinet (Tulpendia)</a></li>
        <li><a href="#">Paintings</a></li>
        <li><a href="#">Biography</a></li>
        <li><a href="#">Media</a></li>
        <li><a href="#">Art Dealer</a></li>
        <li><a href="#">Artist Statement</a></li>
        <li><a href="#">Contact</a></li>
    </ul>
</nav>

<header class="hero">
    <video autoplay muted loop playsinline id="bg-video">
        <source src="tulpendia-scaled.mp4" type="video/mp4">
        Je browser ondersteunt de video niet.
    </video>
    <div class="overlay"></div>
</header>

<div class="collage-grid">
    <img src="images/foto-1.webp" class="item item1">
    <img src="images/foto-2.webp" class="item item2">
    <img src="images/foto-4.webp" class="item item3">
    <img src="images/foto-5.webp" class="item item4">
    <img src="images/foto-6.webp" class="item item5">
</div>


<div id="sticky-title">Niek Hendrix</div>

<main>
    <div id="sticky-stop"></div>
    <div class="content">
        <img src="images/Niek-Hendrix-studio.jpg" alt="Niek Hendrix Studio">
        <div class="text">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium beatae culpa delectus dolor dolorem
                doloremque, eos eveniet, explicabo hic ipsa laborum laudantium minima modi molestias quas ratione,
                repellat sequi vitae.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium beatae culpa delectus dolor dolorem
                doloremque, eos eveniet, explicabo hic ipsa laborum laudantium minima modi molestias quas ratione,
                repellat sequi vitae.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium beatae culpa delectus dolor dolorem
                doloremque, eos eveniet, explicabo hic ipsa laborum laudantium minima modi molestias quas ratione,
                repellat sequi vitae.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium beatae culpa delectus dolor dolorem
                doloremque, eos eveniet, explicabo hic ipsa laborum laudantium minima modi molestias quas ratione,
                repellat sequi vitae.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium beatae culpa delectus dolor dolorem
                doloremque, eos eveniet, explicabo hic ipsa laborum laudantium minima modi molestias quas ratione,
                repellat sequi vitae.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium beatae culpa delectus dolor dolorem
                doloremque, eos eveniet, explicabo hic ipsa laborum laudantium minima modi molestias quas ratione,
                repellat sequi vitae.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium beatae culpa delectus dolor dolorem
                doloremque, eos eveniet, explicabo hic ipsa laborum laudantium minima modi molestias quas ratione,
                repellat sequi vitae.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium beatae culpa delectus dolor dolorem
                doloremque, eos eveniet, explicabo hic ipsa laborum laudantium minima modi molestias quas ratione,
                repellat sequi vitae.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium beatae culpa delectus dolor dolorem
                doloremque, eos eveniet, explicabo hic ipsa laborum laudantium minima modi molestias quas ratione,
                repellat sequi vitae.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium beatae culpa delectus dolor dolorem
                doloremque, eos eveniet, explicabo hic ipsa laborum laudantium minima modi molestias quas ratione,
                repellat sequi vitae.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium beatae culpa delectus dolor dolorem
                doloremque, eos eveniet, explicabo hic ipsa laborum laudantium minima modi molestias quas ratione,
                repellat sequi vitae.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium beatae culpa delectus dolor dolorem
                doloremque, eos eveniet, explicabo hic ipsa laborum laudantium minima modi molestias quas ratione,
                repellat sequi vitae.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium beatae culpa delectus dolor dolorem
                doloremque, eos eveniet, explicabo hic ipsa laborum laudantium minima modi molestias quas ratione,
                repellat sequi vitae.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium beatae culpa delectus dolor dolorem
                doloremque, eos eveniet, explicabo hic ipsa laborum laudantium minima modi molestias quas ratione,
                repellat sequi vitae.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium beatae culpa delectus dolor dolorem
                doloremque, eos eveniet, explicabo hic ipsa laborum laudantium minima modi molestias quas ratione,
                repellat sequi vitae.</p>
        </div>
    </div>
</main>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        // Hamburger menu
        const hamb = document.getElementById('hamburger-button');
        const menu = document.getElementById('nav-menu');
        hamb.addEventListener('click', () => {
            menu.classList.toggle('open');
            hamb.classList.toggle('open');
        });

        // Broken masonry + fade-in met minimaal 50px marge
        const fadeObs = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (!entry.isIntersecting) return;
                const el = entry.target;
                el.style.opacity = '1';
                el.style.transform = `translateX(${el.dataset.tx}px) translateY(0)`;
                fadeObs.unobserve(el);
            });
        }, {threshold: 0.1});

        const minMb = 50;   // minimale marge
        const maxMb = 150;  // maximale marge

        document.querySelectorAll('.grid-item').forEach(el => {
            const mb = Math.floor(Math.random() * (maxMb - minMb + 1)) + minMb;
            const tx = Math.floor((Math.random() - 0.5) * 30);

            el.style.marginBottom = mb + 'px';
            el.dataset.tx = tx;
            el.style.opacity = '0';
            el.style.transform = `translateX(${tx}px) translateY(20px)`;
            fadeObs.observe(el);
        });

        // Sticky-title logic
        const title = document.getElementById('sticky-title');
        const stopper = document.getElementById('sticky-stop');
        let stopped = false;

        function stopSticky() {
            if (stopped) return;
            const r = title.getBoundingClientRect();
            const topAbs = window.pageYOffset + r.top;
            title.style.position = 'absolute';
            title.style.bottom = 'auto';
            // title.style.top      = topAbs + 'px';
            stopper.style.marginBottom = r.height + 'px';
            stopped = true;
        }

        function resumeSticky() {
            if (!stopped) return;
            title.style.position = 'fixed';
            title.style.top = '';
            title.style.bottom = '100px';
            stopper.style.marginBottom = '0';
            stopped = false;
        }

        const obs = new IntersectionObserver(entries => {
            entries.forEach(en => {
                if (en.isIntersecting) stopSticky();
                else if (en.boundingClientRect.top > 0) resumeSticky();
            });
        }, {threshold: 0});
        obs.observe(stopper);

        // Initialisatie sticky-title
        title.classList.add('visible');
        if (stopper.getBoundingClientRect().top <= window.innerHeight) {
            stopSticky();
        }
    });
</script>

</body>
</html>
